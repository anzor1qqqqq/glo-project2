(()=>{"use strict";const e=({timing:e,draw:t,duration:o})=>{let c=performance.now();requestAnimationFrame((function s(a){let l=(a-c)/o;l>1&&(l=1);let r=e(l);t(r),l<1&&requestAnimationFrame(s)}))},t=(e,t,o={})=>{const c=document.querySelector(t);let s,a=!0;const l=document.createElement("div");l.style.color="white",l.style.margin="30px";try{if(!c)throw new Error("ВЕРНИТЕ ФОРМУ");c.addEventListener("submit",(t=>{t.preventDefault(),(()=>{const t=new FormData(c),r={};a=!0,t.forEach((e=>{""==e&&(a=!1)})),a?(s='\n            <div class="example">\n                <div class="sk-circle-fade">\n                <div class="sk-circle-fade-dot"></div>\n                <div class="sk-circle-fade-dot"></div>\n                <div class="sk-circle-fade-dot"></div>\n                <div class="sk-circle-fade-dot"></div>\n                <div class="sk-circle-fade-dot"></div>\n                <div class="sk-circle-fade-dot"></div>\n                <div class="sk-circle-fade-dot"></div>\n                <div class="sk-circle-fade-dot"></div>\n                <div class="sk-circle-fade-dot"></div>\n                <div class="sk-circle-fade-dot"></div>\n                <div class="sk-circle-fade-dot"></div>\n                <div class="sk-circle-fade-dot"></div>\n                </div>\n            </div>\n            ',c.append(l),c.insertAdjacentHTML("beforeend",s),t.forEach(((e,t)=>{r[t]=e})),o.text&&("textContent"==o.text?r[o.id]=document.querySelector("#"+o.id).textContent:r[o.id]=document.querySelector("#"+o.id).value),(async t=>await fetch(e,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((e=>e.json())))(r).then((e=>{console.log(e),document.querySelector(".example").remove(s),l.textContent="Мы отпраили ваши данные, с вами свяжется наш менеджер"})).catch((e=>{console.log(e),document.querySelector(".example").remove(s),l.textContent="Ошибка"}))):alert("Введите данные")})()}))}catch(e){console.log(e.message)}};(e=>{const t=document.querySelector(".timer-days"),o=document.querySelector(".timer-hours"),c=document.querySelector(".timer-minutes"),s=document.querySelector(".timer-seconds");setInterval((()=>{const{resul:e,seconds:a,minutes:l,hours:r,days:n}=(()=>{const e=Date.parse(new Date),t=(new Date("15 march 2023").getTime()-e)/1e3;return{resul:t,seconds:parseInt(t%60),minutes:parseInt(t/60%60),hours:parseInt(t/3600%24),days:parseInt(t/9e4)}})();if(!(e>0))return t.textContent="00",o.textContent="00",c.textContent="00",void(s.textContent="00");t.textContent=n>=10?n:"0"+n,o.textContent=r>=10?r:"0"+r,c.textContent=l>=10?l:"0"+l,s.textContent=a>=10?a:"0"+a}),1e3)})(),(()=>{const e=document.querySelector("menu"),t=document.querySelectorAll(".list_btn"),o=document.querySelector(".swipe"),c=()=>{e.classList.toggle("active-menu")};t.forEach((e=>{e.addEventListener("click",(e=>{if(e.target.getAttribute("href")&&e.target.classList.contains("close-modal")){e.preventDefault();const t=e.target.getAttribute("href");document.querySelector(t).scrollIntoView({behavior:"smooth",block:"start"})}}))})),o.addEventListener("click",(e=>{if(e.target.closest(".swipe")){e.preventDefault();const t=e.target.closest(".swipe").getAttribute("href");document.querySelector(t).scrollIntoView({behavior:"smooth",block:"start"})}})),document.addEventListener("click",(t=>{e.classList.contains("active-menu")&&!t.target.closest(".active-menu")?c():(t.target.classList.contains("close-modal")&&c(),(t.target.classList.contains("menu")||t.target.closest(".menu"))&&c())}))})(),(()=>{const t=document.querySelectorAll(".popup-btn"),o=document.querySelector(".popup"),c=document.querySelector(".popup-content");let s=0;const a=()=>{o.style.display="none",document.body.style.overflowY="",s=0};t.forEach((t=>{t.addEventListener("click",(()=>{o.style.display="flex",window.screen.width>768&&e({duration:250,timing:e=>e,draw(e){c.style.left=40*e+"%"}}),document.body.style.overflowY="hidden",t.addEventListener("keydown",(e=>{27===e.keyCode&&a()}))}))})),o.addEventListener("click",(e=>{(e.target.classList.contains("popup")||e.target.classList.contains("popup-close"))&&a()}))})(),(()=>{const e=document.querySelectorAll(".calc_reg"),t=document.querySelector(".mess"),o=document.querySelectorAll('[type="email"]'),c=document.querySelectorAll('[type="tel"]'),s=document.querySelectorAll('[name="user_name"]');e.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/\D+/g,"")}))})),t.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^\а-яА-Я\-\,\:\.\s\d]+$/g,"")})),o.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^\a-zA-Z0-9?\.?\-?\_?\!?\~?\*?\'?\@]+$/g,"")}))})),c.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^\d\-\()\+]+/g,"")}))})),s.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^\а-яА-Я\s]+/g,"")}))}))})(),(()=>{const e=document.querySelectorAll(".service-header-tab"),t=document.querySelectorAll(".service-tab");let o;e.forEach((c=>{c.addEventListener("click",(()=>{e.forEach((e=>{e.classList.remove("active")})),c.classList.add("active"),t.forEach((e=>{e.classList.add("d-none")})),o=c.dataset.tab,document.querySelector(o).classList.remove("d-none")}))}))})(),(()=>{const e=document.querySelectorAll(".portfolio-item"),t=document.querySelector(".portfolio-content"),o=document.querySelector(".portfolio-dots");let c,s,a=0;e.forEach(((e,t)=>{s=0===t?'<li class="dot dot-active"></li>':'<li class="dot"></li>',o.innerHTML+=s}));const l=document.querySelectorAll(".dot"),r=()=>{e[a].classList.remove("portfolio-item-active"),l[a].classList.remove("dot-active"),a++,a>=e.length&&(a=0),e[a].classList.add("portfolio-item-active"),l[a].classList.add("dot-active")};c=setInterval(r,2e3),t.addEventListener("mouseenter",(()=>clearInterval(c))),t.addEventListener("mouseleave",(()=>c=setInterval(r,2e3))),t.addEventListener("click",(t=>{t.target.classList.contains("next")&&(t.preventDefault(),e[a].classList.remove("portfolio-item-active"),l[a].classList.remove("dot-active"),a++,a>=e.length&&(a=0),e[a].classList.add("portfolio-item-active"),l[a].classList.add("dot-active")),t.target.classList.contains("prev")&&(t.preventDefault(),e[a].classList.remove("portfolio-item-active"),l[a].classList.remove("dot-active"),a--,a<0&&(a=e.length-1),e[a].classList.add("portfolio-item-active"),l[a].classList.add("dot-active"))})),l.forEach(((t,o)=>{t.addEventListener("click",(t=>{e[a].classList.remove("portfolio-item-active"),l[a].classList.remove("dot-active"),e[o].classList.add("portfolio-item-active"),l[o].classList.add("dot-active"),a=o}))}))})(),((t=100)=>{const o=document.querySelector(".calc-block"),c=document.querySelector(".calc-type"),s=document.querySelector(".calc-square"),a=document.querySelector(".calc-count"),l=document.querySelector(".calc-day"),r=document.getElementById("total");let n,d,i,u;const v=t=>{e({duration:100,timing:e=>e,draw(e){r.textContent=parseInt(e*t)}})};o.addEventListener("input",(()=>{0!==c.selectedIndex?(n=+c[c.selectedIndex].value,s.style.opacity=1,s.style.borderColor="#19b5fe",s.disabled=!1):(s.style.opacity="",s.style.borderColor="",s.disabled=!0,s.value="",r.textContent=0),""!==s.value?(a.style.opacity=1,a.style.borderColor="#19b5fe",a.disabled=!1,u=Math.ceil(n*s.value*t),v(u)):(a.style.opacity="",a.style.borderColor="",a.disabled=!0,a.value="",r.textContent=0),""!==a.value?(d=1,a.value>1?d+=a.value/10:d=1,l.style.opacity=1,l.style.borderColor="#19b5fe",l.disabled=!1,u=Math.ceil(u*d),v(u)):(l.style.opacity="",l.style.borderColor="",l.disabled=!0,l.value=""),""!==l.value&&(i=l.value<5?2:l.value<10?1.5:1,u=Math.ceil(u*i),v(u))}))})(100),t("https://jsonplaceholder.typicode.com/todos","#form1",{id:"total",text:"textContent"}),t("https://jsonplaceholder.typicode.com/todos","#form2",{id:"form2-message",text:"value"}),t("https://jsonplaceholder.typicode.com/todos","#form3",{id:"form2-message"})})();